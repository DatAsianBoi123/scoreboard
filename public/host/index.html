<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scoreboard | Hosting Session</title>

  <link rel="stylesheet" href="style.css">
  <script src="script.js" type="module" defer></script>
</head>
<body>
  <div id="loadingDiv">
    <h1>Loading...</h1>
  </div>

  <div id="prehost" style="display: none;">
    <form id="blueAddTeam"></form>
    <form id="redAddTeam"></form>

    <form id="hostInfoForm">
      <h1>Host Game</h1>

      <label for="gameTypeSelect">Game Type: </label>
      <select name="gameType" id="gameTypeSelect">
        <option value="builtin" selected>Builtin</option>
        <option value="custom">Custom</option>
        <option value="import">Import Code</option>
      </select>
      <br><br>

      <div id="builtinGameType">
        <label for="gameIdSelect">Game: </label>
        <select name="gameId" id="gameIdSelect"></select>
      </div>

      <div id="importGameType">
        <label for="importCodeInput">Code: </label>
        <input name="importCode" id="importCodeInput" type="text" autocomplete="off">
      </div>

      <div id="customGameType">
        <span>Duration:</span>

        <input name="durationMin" id="durationMinInput" type="number" value="0">
        <label for="durationMinInput"> minutes </label>

        <input name="durationSecs" id="durationSecsInput" type="number" value="0">
        <label for="durationSecsInput"> seconds</label>

        <p>Scores:</p>
        <table id="scoreTable">
          <tr>
            <th>Name</th>
            <th>Category</th>
            <th>Points</th>
          </tr>
        </table>
        <input type="button" id="newRowBtn" value="New Row">
        <br><br>
        <input type="button" id="copyGameDataBtn" value="Copy Export Code">
      </div>
      <br>

      <p><strong>Blue Teams</strong></p>
      <ol id="blueTeams"></ol>
      <input type="text" name="teamName" placeholder="Team Name" autocomplete="off" form="blueAddTeam">
      <input type="submit" value="Add Team" form="blueAddTeam">
      <br>

      <p><strong>Red Teams</strong></p>
      <ol id="redTeams"></ol>
      <input type="text" name="teamName" placeholder="Team Name" autocomplete="off" form="redAddTeam">
      <input type="submit" value="Add Team" form="redAddTeam">
      <br>

      <br>
      <input type="submit" value="Host">
    </form>
  </div>

  <div id="main" style="display: none;">
    <h1>Hosting with ID <span id="hostId"></span></h1>
    <h1 id="timeLeft">--:--</h1>
    <a href="" id="viewLink" target="_blank">View Game</a>

    <div id="beforeStart">
      <button id="startBtn">Start</button>
    </div>

    <div id="afterStart" style="display: none;">
      <p>Blue Points: <span id="bluePoints">0</span></p>
      <p>Red Points: <span id="redPoints">0</span></p>
      <button id="pauseBtn">Pause</button>
      <button id="endBtn">End Now</button>
      <table id="scoreHistory">
        <tr>
          <th>Team</th>
          <th>Scored</th>
          <th>Points Earned</th>
          <th>Timestamp</th>
        </tr>
      </table>
    </div>
  </div>

  <div id="disconnectDiv" style="display: none;">
    <h1>You've been disconnected!</h1>
    <a href="/">Return home</a>
  </div>
</body>
</html>
